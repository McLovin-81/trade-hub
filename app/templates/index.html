<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade Hub</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}"> <!-- Global styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/navBars.css') }}"> <!-- Index-specific styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/orderManager.css') }}">
    <!-- Font Awesome CDN -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <!-- Top Navigation -->
    <header class="top-nav">
        <i class="fa-solid fa-circle-half-stroke dark-mode-toggle" aria-label="Toggle Dark Mode" tabindex="0"></i>
        <a href="{{ url_for('auth.login') }}" aria-label="Trade Hub Home">
            <button class="btn" tabindex="1">Login</button>
        </a>
        <a href="{{ url_for('auth.register') }}" aria-label="Trade Hub Home">
            <button class="btn">Register</button>
        </a>
    </header>

    <!-- Main Navigation -->
    <nav class="main-nav">
        <a href="{{ url_for('home_page.index') }}" aria-label="Trade Hub Home">
            <img class="logo" src="{{ url_for('static', filename='images/logo.jpg') }}" alt="Trade Hub Logo">
        </a>

        <form id="orderForm" class="order-form" action="{{ url_for('stock_page.detailPage') }}" method="POST">
            <div class="form-group" style="position: relative; ">
                <input type="text" id="symbol" name="symbol" placeholder="DB1.DE, SIE.DE, etc." required >
                <div class="suggestions-container" id="suggestions-container" style="border: none;"></div>
            </div>
        </form>
        
        <script src="{{ url_for('static', filename='js/main.js') }}"></script>

            <a href="#" aria-label="View Team">Team</a>
            <a href="#" aria-label="View Wiki">Wiki</a>
            <a href="{{ url_for('home_page.news') }}" aria-label="About Trade Hub">News</a>
            
    </nav>

    <!-- TradingView Widget BEGIN -->
    <div class="tradingview-widget-container">
        <div id="tradingview_ticker"></div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
        {
            "symbols": [
                { "proName": "XETR:SAP", "title": "SAP" },
                { "proName": "XETR:SIE", "title": "Siemens" },
                { "proName": "XETR:DB1", "title": "Deutsche BÃ¶rse" },
                { "proName": "XETR:DBK", "title": "Deutsche Bank" },
                { "proName": "XETR:DTE", "title": "Deutsche Telekom" }
            ],
            "colorTheme": "dark",
            "isTransparent": false,
            "displayMode": "adaptive",
            "locale": "en"
        }
        </script>
    </div>
    <h1 class="ranking-title">Profit Ranking List</h1>
<table class="ranking-table">
    <thead>
        <tr>
            <th>Rank</th>
            <th>Username</th>
            <th>Profit (%)</th>
        </tr>
    </thead>
    <tbody>
        {% for user in ranking_list %}
        <tr>
            <td>{{ user.rank }}</td>
            <td>{{ user.username }}</td>
            <td>{{ "%.2f" % user.profit }}%</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
    <!-- TradingView Widget END -->

    <!-- Footer Section -->
    <footer>
        <a href="{{ url_for('home_page.legend') }}" aria-label="Legend Page">Legend</a>
    </footer>

    <!-- scripts -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>


</body>
</html>
